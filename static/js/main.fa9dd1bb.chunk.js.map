{"version":3,"sources":["img/spark.png","music/disclosureEWM.mp3","util.js","3DStuff/shaders.js","Buttons/AudioPlayer.js","3DStuff/visualizer.js","Animations/Animations.js","navigation/navbar.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","keyCodeMap","9","32","37","39","48","49","50","51","52","53","54","55","56","57","69","randomNumberInRange","min","max","Math","floor","random","getRandomValueFromArray","arr","length","instanceVertexShader","instanceFragmentShader","AudioPlayer","props","getFrequencyData","audioAnalyser","addEventListeners","button","addEventListener","toggleAudioPlay","window","onKeyUp","audioFinishedPlaying","audio","removeEventListeners","removeEventListener","handleClick","dispose","pause","animateButton","classList","add","stopButtonAnimation","remove","loadAudio","isLoading","parent","parentNode","listener","AudioListener","Audio","camera","AudioLoader","load","song","buffer","this","setBuffer","bind","AudioAnalyser","fftSize","event","keyCode","isPlaying","appendChild","onPause","removeChild","play","onPlay","frequencyCount","document","createElement","style","COLOR_PALETTE","UNIFORMS","time","value","Visualizer","stop","frameId","cancelAnimationFrame","start","requestAnimationFrame","delta","clock","getDelta","stars","rotation","x","y","doFrequencyUpdates","renderer","render","scene","stats","update","shouldRenderEffects","effectsComposer","audioPlayer","frequencyData","instanceMesh","geometry","setAttribute","THREE","attributes","frequency","needsUpdate","numBars","bars","forEach","bar","index","percentIdx","frequencyIdx","scale","z","children","child","scaleMultiplier","elapsedTime","getElapsedTime","lastTimeStamp","freq","lastBass","freqMap","addStars","particleTexture","spark","i","material","map","color","blending","sprite","set","position","normalize","multiplyScalar","spitBars","height","emissive","emissiveIntensity","shininess","transparent","opacity","row","column","mesh","castShadow","push","addLights","light","intensity","lookAt","pointLight","addEffects","params","exposure","strength","threshold","radius","renderPass","RenderPass","bloomPass","UnrealBloomPass","W","H","Object","assign","GlitchPass","EffectComposer","addPass","toneMappingExposure","pow","setupAudio","mount","addInstanceGeometry","particleCount","_geometry","translateArray","colors","Float32Array","uniforms","vertexShader","fragmentShader","depthTest","depthWrite","onResize","innerWidth","innerHeight","aspect","updateProjectionMatrix","setSize","onkeyup","antialias","setPixelRatio","devicePixelRatio","Stats","domElement","dom","firstChild","lastChild","ref","React","Component","isAnimating","element","gsap","isTweening","slideFromRight","whenOffScreen","animation","TimelineLite","onComplete","progress","Animation","to","ease","Navbar","bodyRef","createRef","state","selectedIndex","selectKey","key","select","wrappedIndex","body","current","Animations","setState","ReactDom","onkeydown","preventDefault","Children","isValidElement","cloneElement","selected","onClick","className","id","NavButton","Iframe","title","src","frameBorder","allow","allowFullScreen","home","page2","page3","page4","page5","songUrl","App","Boolean","location","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.fa9dd1bb.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/disclosureEWM.8d76f4ed.mp3\";","export const keyCodeMap = {\n    9: \"tab\",\n    32: \"space\",\n    37: \"←\",\n    39: \"→\",\n    48: 0,\n    49: 1,\n    50: 2,\n    51: 3,\n    52: 4,\n    53: 5,\n    54: 6,\n    55: 7,\n    56: 8,\n    57: 9,\n    69: \"e\",\n}\n\nexport function randomNumberInRange(min, max) {\n    return Math.floor(Math.random()*(max-min+1)+min)\n}\n\nexport function getRandomColor() {\n    var letters = '0123456789ABCDEF';\n    var color = '#';\n    for (var i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)];\n    }\n    return color;\n}\n\nexport function getRandomValueFromArray(arr) {\n    return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexport function randomPercentage(val) {\n    return Math.random() < val;\n}","export const vertexShader = (color) => `\n    #include <color_vertex>\n    varying vec2 v_uv;\n    varying vec3 v_color;\n\n    void main() {\n        v_uv = uv;\n        v_color = vec3(${color});\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    }\n`\n\nexport const bloomFragmentShader = `\n    varying vec2 v_uv;\n    varying vec3 v_color;\n\n    void main( void ) {\n        vec2 uv = v_uv;\n        // Zooms out by a factor of 2.0\n        uv *= 2.0;\n        // Shifts every axis by -1.0\n        uv -= 1.0;\n\n        // Base color for the effect\n        vec3 color = v_color;\n\n        // specify size of border. 0.0 - no border, 1.0 - border occupies the entire space\n        vec2 borderSize = vec2(1.0);\n\n        // size of rectangle in terms of uv \n        vec2 rectangleSize = vec2(1.0) - borderSize; \n\n        // distance field, 0.0 - point is inside rectangle, 1.0 point is on the far edge of the border.\n        float distanceField = length(max(abs(uv)-rectangleSize,0.0) / borderSize);\n\n        // calculate alpha accordingly to the value of the distance field\n        float alpha = 1.0 - distanceField;\n\n        gl_FragColor = vec4(color, alpha);    \n    }\n`\n\nexport const trippyFragmentShader = `\n    varying vec2 v_uv;\n\n    uniform float time;\n\n    void main()\t{\n\n        vec2 p = - 1.0 + 2.0 * v_uv;\n        float a = time * 40.0;\n        float d, e, f, g = 1.0 / 40.0 ,h ,i ,r ,q;\n\n        e = 400.0 * ( p.x * 0.5 + 0.5 );\n        f = 400.0 * ( p.y * 0.5 + 0.5 );\n        i = 200.0 + sin( e * g + a / 150.0 ) * 20.0;\n        d = 200.0 + cos( f * g / 2.0 ) * 18.0 + cos( e * g ) * 7.0;\n        r = sqrt( pow( abs( i - e ), 2.0 ) + pow( abs( d - f ), 2.0 ) );\n        q = f / r;\n        e = ( r * cos( q ) ) - a / 2.0;\n        f = ( r * sin( q ) ) - a / 2.0;\n        d = sin( e * g ) * 176.0 + sin( e * g ) * 164.0 + r;\n        h = ( ( f + d ) + a / 2.0 ) * g;\n        i = cos( h + r * p.x / 1.3 ) * ( e + e + a ) + cos( q * g * 6.0 ) * ( r + h / 3.0 );\n        h = sin( f * g ) * 144.0 - sin( e * g ) * 212.0 * p.x;\n        h = ( h + ( f - e ) * q + sin( r - ( a + h ) / 7.0 ) * 10.0 + i / 4.0 ) * g;\n        i += cos( h * 2.3 * sin( a / 350.0 - q ) ) * 184.0 * sin( q - ( r * 4.3 + a / 12.0 ) * g ) + tan( r * g + h ) * 184.0 * cos( r * g + h );\n        i = mod( i / 5.6, 256.0 ) / 64.0;\n        if ( i < 0.0 ) i += 4.0;\n        if ( i >= 2.0 ) i = 4.0 - i;\n        d = r / 350.0;\n        d += sin( d * d * 8.0 ) * 0.52;\n        f = ( sin( a * g ) + 1.0 ) / 2.0;\n        gl_FragColor = vec4( vec3( f * i / 1.6, i / 2.0 + d / 13.0, i ) * d * p.x + vec3( i / 1.3 + d / 8.0, i / 2.0 + d / 18.0, i ) * d * ( 1.0 - p.x ), 1.0 );\n\n    }\n`\n\nexport const neonColorFragmentShader = `\n    uniform float time;\n\n    varying vec2 v_uv;\n\n    void main( void ) {\n\n        vec2 position = - 1.0 + 2.0 * v_uv;\n\n        float red = abs( sin( position.x * position.y + time / 5.0 ) );\n        float green = abs( sin( position.x * position.y + time / 4.0 ) );\n        float blue = abs( sin( position.x * position.y + time / 3.0 ) );\n\n        vec2 uv = v_uv;\n        // Zooms out by a factor of 2.0\n        uv *= 2.0;\n        // Shifts every axis by -1.0\n        uv -= 1.0;\n\n        // specify size of border. 0.0 - no border, 1.0 - border occupies the entire space\n        vec2 borderSize = vec2(0.0);\n\n        // size of rectangle in terms of uv \n        vec2 rectangleSize = vec2(1.0) - borderSize; \n\n        // distance field, 0.0 - point is inside rectangle, 1.0 point is on the far edge of the border.\n        float distanceField = length(max(abs(uv)-rectangleSize,0.0) / borderSize);\n\n        // calculate alpha accordingly to the value of the distance field\n        float alpha = 1.0 - distanceField;\n\n        gl_FragColor = vec4( red, green, blue, alpha );\n    }\n`\n\nexport const wavyVertexShader = (color) => `\n    vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\n    vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\n    float snoise(vec3 v){ \n        const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n        const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n        // First corner\n        vec3 i  = floor(v + dot(v, C.yyy) );\n        vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n        // Other corners\n        vec3 g = step(x0.yzx, x0.xyz);\n        vec3 l = 1.0 - g;\n        vec3 i1 = min( g.xyz, l.zxy );\n        vec3 i2 = max( g.xyz, l.zxy );\n\n        //  x0 = x0 - 0. + 0.0 * C \n        vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n        vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n        vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\n        // Permutations\n        i = mod(i, 289.0 ); \n        vec4 p = permute( permute( permute( \n                    i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n                + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n                + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n        // Gradients\n        // ( N*N points uniformly over a square, mapped onto an octahedron.)\n        float n_ = 1.0/7.0; // N=7\n        vec3  ns = n_ * D.wyz - D.xzx;\n\n        vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\n        vec4 x_ = floor(j * ns.z);\n        vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n        vec4 x = x_ *ns.x + ns.yyyy;\n        vec4 y = y_ *ns.x + ns.yyyy;\n        vec4 h = 1.0 - abs(x) - abs(y);\n\n        vec4 b0 = vec4( x.xy, y.xy );\n        vec4 b1 = vec4( x.zw, y.zw );\n\n        vec4 s0 = floor(b0)*2.0 + 1.0;\n        vec4 s1 = floor(b1)*2.0 + 1.0;\n        vec4 sh = -step(h, vec4(0.0));\n\n        vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n        vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n        vec3 p0 = vec3(a0.xy,h.x);\n        vec3 p1 = vec3(a0.zw,h.y);\n        vec3 p2 = vec3(a1.xy,h.z);\n        vec3 p3 = vec3(a1.zw,h.w);\n\n        //Normalise gradients\n        vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n        p0 *= norm.x;\n        p1 *= norm.y;\n        p2 *= norm.z;\n        p3 *= norm.w;\n\n        // Mix final noise value\n        vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n        m = m * m;\n        return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                        dot(p2,x2), dot(p3,x3) ) );\n    }\n\n    uniform float time;\n\n    varying vec3 v_color;\n    varying vec2 v_uv;\n\n    void main() {\n        float time = time * 0.05;\n        \n        float offX = position.x + sin(uv.y + time * 9.);\n        float offY = position.y - time * .2 - cos(time * 2.) * 0.1;\n        float nh = (snoise(vec3(offX, offY, time * .5 ) * 3.)) * .5;\n        \n        v_uv = uv;\n        v_color = vec3(${color});\n\n        vec4 modelViewPosition = modelViewMatrix * vec4(position.x, position.y, position.z + nh, 1.0);\n        gl_Position = projectionMatrix * modelViewPosition; \n    }\n\n`\n\nexport const instanceVertexShader = `\n    precision highp float;\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n    uniform float time;\n\n    attribute float frequency;\n    attribute vec3 position;\n    attribute vec2 uv;\n    attribute vec3 translate;\n    attribute vec4 color;\n\n    varying float vScale;\n    varying vec4 vColor;\n    varying float vFrequency;\n\n    void main() {\n        vec4 mvPosition = modelViewMatrix * vec4( translate, 1.0 );\n        // vec3 trTime = vec3(translate.x,translate.y,translate.z);\n        float scale = frequency * 0.1;\n        vScale = scale;\n        scale = scale + 10.0;\n        float frequencyMod = sin(frequency * 10.0) + pow((frequency * 0.0295), 3.0);\n        if(mvPosition.x > 0.0) {\n            mvPosition.x += frequencyMod;\n        } else {\n            mvPosition.x -= frequencyMod;\n        }\n        if(mvPosition.y > 0.0) {\n            mvPosition.y += frequencyMod;\n        } else {\n            mvPosition.y -= frequencyMod;\n        }\n        mvPosition.xyz += position * scale;\n        vColor = color;\n        vFrequency = frequency;\n        gl_Position = projectionMatrix * mvPosition;\n    }\n`\n\nexport const instanceFragmentShader = `\n    precision highp float;\n\n    varying float vScale;\n    varying vec4 vColor;\n    varying float vFrequency;\n\n    // HSL to RGB Convertion helpers\n    vec3 HUEtoRGB(float H){\n        H = mod(H,1.0);\n        float R = abs(H * 6.0 - 3.0) - 1.0;\n        float G = 2.0 - abs(H * 6.0 - 2.0);\n        float B = 2.0 - abs(H * 6.0 - 4.0);\n        return clamp(vec3(R,G,B),0.0,1.0);\n    }\n\n    vec3 HSLtoRGB(vec3 HSL){\n        vec3 RGB = HUEtoRGB(HSL.x);\n        float C = (1.0 - abs(2.0 * HSL.z - 1.0)) * HSL.y;\n        return (RGB - 0.5) * C + HSL.z;\n    }\n\n    void main() {\n        vec4 diffuseColor = vColor;\n        gl_FragColor = vec4( diffuseColor.xyz * HSLtoRGB(vec3(vScale/5.0, 1.0, 0.5)), diffuseColor.w );\n\n        if ( diffuseColor.w < 0.5 ) discard;\n        if ( vFrequency <= 100.0 ) discard;\n    }\n`\nexport const globeFragmentShader = `\n    #ifdef GL_ES\n    precision mediump float;\n    #endif\n    uniform float time;            \n    uniform float radius;\n\n    uniform float size;            \n    uniform float details;          \n    varying vec3 vPosition;\n    #define NUM_OCTAVES 8\n    float hash(float n) { return fract(sin(n) * 1e4); }\n    float hash(in vec2 _st) { return fract(sin(dot(_st.xy, vec2(12.9898,78.233)))* 43758.5453123); }\n    float noise(float x) {\n        float i = floor(x);\n        float f = fract(x);\n        float u = f * f * (3.0 - 2.0 * f);\n        return mix(hash(i), hash(i + 1.0), u);\n    }\n    float noise(vec2 x) {\n        vec2 i = floor(x);\n        vec2 f = fract(x);\n        // Four corners in 2D of a tile\n        float a = hash(i);\n        float b = hash(i + vec2(1.0, 0.0));\n        float c = hash(i + vec2(0.0, 1.0));\n        float d = hash(i + vec2(1.0, 1.0));\n        // Simple 2D lerp using smoothstep envelope between the values.\n        // return vec3(mix(mix(a, b, smoothstep(0.0, 1.0, f.x)),\n        //\t\t\tmix(c, d, smoothstep(0.0, 1.0, f.x)),\n        //\t\t\tsmoothstep(0.0, 1.0, f.y)));\n        // Same code, with the clamps in smoothstep and common subexpressions\n        // optimized away.\n        vec2 u = f * f * (3.0 - 2.0 * f);\n        return mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;\n    }\n    // This one has non-ideal tiling properties that I'm still tuning\n    float noise(vec3 x) {\n        const vec3 step = vec3(110, 241, 171);\n        vec3 i = floor(x);\n        vec3 f = fract(x);\n\n        // For performance, compute the base input to a 1D hash from the integer part of the argument and the \n        // incremental change to the 1D based on the 3D -> 1D wrapping\n        float n = dot(i, step);\n        vec3 u = f * f * (3.0 - 2.0 * f);\n        return mix(mix(mix( hash(n + dot(step, vec3(0, 0, 0))), hash(n + dot(step, vec3(1, 0, 0))), u.x),\n                    mix( hash(n + dot(step, vec3(0, 1, 0))), hash(n + dot(step, vec3(1, 1, 0))), u.x), u.y),\n                mix(mix( hash(n + dot(step, vec3(0, 0, 1))), hash(n + dot(step, vec3(1, 0, 1))), u.x),\n                    mix( hash(n + dot(step, vec3(0, 1, 1))), hash(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);\n    }\n    float fbm( in vec3 x) {    \n        // float G = exp2(-H);\n        float f = 1.0;\n        float a = 0.5;\n        float t = 0.0;\n        for( int i=0; i < NUM_OCTAVES; i++ ) {\n            t += a*noise(vec3(f*x));\n            f *= 2.0;\n            a *= 0.475;\n        }\n        return t;\n    }\n    void main(void) {\n        vec3 st = (vPosition.xyz / radius) * size;\n        \n        vec3 color = vec3(0.0);\n        // First layer of warping\n        vec3 q = vec3(\n                fbm( st.xyz + vec3(0.01)*time ),\n                fbm( st.xyz + vec3(5.2,1.3, 1.0) ),\n                fbm( st.xyz + vec3(1.0, 1.0, 1.0) ) );\n        // Second layer of warping\n        vec3 r = vec3(\n                fbm( st.xyz + details * q + vec3(1.7, 9.2, 1.0) + 0.1 * time ),\n                fbm( st.xyz + details * q + vec3(8.3, 2.8, 1.0) + 0.0125 * time ),\n                fbm( st.xyz + details * q + vec3(2.8, 8.3, 1.0) + 0.0125 * time ) );\n        // float f = fbm(st + vec2(fbm(st + vec2(fbm(st + r)))));\n        float f = fbm(st + r);\n        vec3 baseColor = vec3(0.00, 0.10, 0.980);\n        vec3 colorMixA = vec3(0.00, 0.09, 0.89);\n        vec3 colorMixB = vec3(0.14, 0.38, 0.61);\n        vec3 finalColor = vec3(1.0, 1.0, 1.0) ;\n        \n        color = mix(baseColor, colorMixA, clamp((f*f)*1.0,0.0,1.0));\n        color = mix(color, colorMixB,clamp(length(q)*1.0,0.0,1.0));\n        color = mix(color, finalColor, clamp(length(r.x)*2.0,0.0,1.0));\n        gl_FragColor = vec4((f*f*f+0.5*f*f+0.5*f)*color, 1.0);\n        \n    }\n`;","import {Audio, AudioLoader, AudioAnalyser, AudioListener} from \"three\";\nimport {keyCodeMap} from \"../util\"\n\nclass AudioPlayer {\n    constructor(props) {\n        this.props = props;\n        this.props.frequencyCount = this.props.frequencyCount || 2048\n        this.fftSize = this.props.frequencyCount * 2\n\n        // This is how you create an html element in javascript\n        this.button = document.createElement(\"div\"); //<div></div>\n        this.button.style = `\n            position: fixed;\n            left: 0;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            margin: auto;\n            width: 135px;\n            height: 135px;\n            cursor: pointer;\n            background: linear-gradient(210deg, transparent 150px, #e9afe3 150px) 42px -68px, \n                        linear-gradient(-30deg, transparent 150px, #e9afe3 150px) 42px 67px, \n                        linear-gradient(0deg, transparent 0%, #63b0ee 0%) 0px 0px;\n            border-radius: 50%;\n            box-shadow: 6px 3px 9px rgba(255, 255, 255, 0.3), 0 6px 6px rgba(255, 255, 255, 0.14);\n        `;\n        \n        this.addEventListeners();\n    }\n\n    getFrequencyData = () => this.audioAnalyser.getFrequencyData();\n\n    addEventListeners = () => {\n        this.button.addEventListener(\"click\", this.toggleAudioPlay);\n        window.addEventListener(\"keyup\", this.onKeyUp);\n        if(this.props.audioFinishedPlaying) this.audio.addEventListener('ended', this.props.audioFinishedPlaying);\n    }\n\n    removeEventListeners = () => {\n        this.button.removeEventListener(\"click\", this.handleClick);\n        window.removeEventListener(\"keyup\", this.onKeyUp);\n        if(this.props.audioFinishedPlaying) this.audio.removeEventListener('ended', this.props.audioFinishedPlaying);\n    }\n\n    dispose = () => {\n        this.removeEventListeners()\n        if(this.audio) this.audio.pause()\n    }\n\n    animateButton = () => this.button.classList.add(\"spin-animation\")\n\n    stopButtonAnimation = () => this.button.classList.remove(\"spin-animation\")\n\n    loadAudio = () => {\n        this.isLoading = true;\n        this.button.parent = this.button.parentNode\n        this.animateButton();\n        const listener = new AudioListener();\n        this.audio = new Audio(listener);\n        this.props.camera.add(listener);\n    \n        const loader = new AudioLoader();\n        loader.load(this.props.song, function(buffer) {\n            this.audio.setBuffer(buffer)\n            this.stopButtonAnimation();\n            this.isLoading = false;\n            this.toggleAudioPlay();\n        }.bind(this));\n\n        this.audioAnalyser = new AudioAnalyser(this.audio, this.fftSize);\n    }\n\n    onKeyUp = (event) => {\n        if(keyCodeMap[event.keyCode] === \"space\") this.toggleAudioPlay()\n    }\n\n    toggleAudioPlay = () => {\n        if(this.isLoading) return;\n\n        if(!this.button.parent) {\n            this.loadAudio()\n        } else if(this.audio.isPlaying) {\n            this.button.parent.appendChild(this.button)\n            this.audio.pause()\n            if(this.props.onPause) this.props.onPause()\n        } else {\n            this.button.parent.removeChild(this.button)\n            this.audio.play()\n            if(this.props.onPlay) this.props.onPlay()\n        }\n    }\n}\n\nexport default AudioPlayer;","import React from \"react\";\nimport { randomNumberInRange, getRandomValueFromArray, keyCodeMap } from \"../util\";\nimport * as THREE from \"three\";\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass';\nimport { GlitchPass } from 'three/examples/jsm/postprocessing/GlitchPass';\nimport spark from '../img/spark.png'\nimport { instanceFragmentShader, instanceVertexShader } from './shaders'\nimport Stats from 'three/examples/jsm/libs/stats.module'\nimport AudioPlayer from \"../Buttons/AudioPlayer\";\n\nconst COLOR_PALETTE = [0x04d435, 0x000d08, 0x300001, 0xff7200];\n\nconst UNIFORMS = {\n  time: {value: 1.0}\n}\n\nclass Visualizer extends React.Component {\n  componentDidMount() {\n    this.W = window.innerWidth\n    this.H = window.innerHeight\n    this.mount.style = `\n      position: relative;\n      height: ${this.H}px;\n    `\n\n    this.shouldRenderEffects = false;\n\n    this.scene = new THREE.Scene();\n    // this.scene.background = new THREE.Color(0x300001)\n\n    this.clock = new THREE.Clock(true);\n\n    this.camera = new THREE.PerspectiveCamera(95, this.W/this.H, 0.1, 1000);\n    this.camera.position.set(0, 0, 10)\n    this.camera.lookAt(this.scene.position)\n    \n    this.bars = []\n    this.freqMap = {}\n    this.stars = new THREE.Object3D();\n    // this.spitBars();\n    this.addStars(this.scene);\n    // this.addLights(this.scene);\n    // this.scene.add(new THREE.AmbientLight(0xffffff));\n    this.setupAudio(this.scene, this.camera);\n    \n    this.renderer = new THREE.WebGLRenderer({antialias: true});\n    this.renderer.setSize(this.W, this.H);\n    this.renderer.setPixelRatio(window.devicePixelRatio)\n    this.stats = new Stats();\n    this.addEffects(this.scene, this.camera, this.renderer)\n    this.mount.appendChild(this.renderer.domElement);\n    this.mount.appendChild(this.stats.dom)\n    window.addEventListener('resize', this.onResize);\n    window.addEventListener('keyup', this.onkeyup);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  componentWillUnmount() {\n    this.stop()\n    this.scene.dispose()\n    this.renderer.dispose()\n    while(this.mount.firstChild) this.mount.removeChild(this.mount.lastChild)\n    window.removeEventListener('resize', this.onResize)\n    window.removeEventListener('keyup', this.onkeyup)\n    if(this.audioPlayer) this.audioPlayer.dispose()\n  }\n\n  stop = () => {\n    if(!this.frameId) return\n    cancelAnimationFrame(this.frameId)\n    this.frameId = null;\n  }\n\n  start = () => {\n    this.frameId = requestAnimationFrame(this.start)\n\n    const delta = this.clock.getDelta()\n    this.stars.rotation.x += 0.0020;\n    this.stars.rotation.y -= 0.0020;\n\n    this.doFrequencyUpdates();\n    \n    UNIFORMS.time.value += delta\n\n    this.renderer.render(this.scene, this.camera);\n    this.stats.update();\n    if(this.shouldRenderEffects) this.effectsComposer.render(this.scene, this.camera);\n  }\n\n  doFrequencyUpdates = () => {\n    if(!this.audioPlayer) return;\n    const frequencyData = this.audioPlayer.getFrequencyData();\n          \n    this.instanceMesh.geometry.setAttribute('frequency', new THREE.InstancedBufferAttribute(frequencyData, 1));\n    this.instanceMesh.geometry.attributes.frequency.needsUpdate = true;\n    \n    const numBars = this.bars.length;\n    this.bars.forEach((bar, index) => {\n      const percentIdx = index / numBars\n      const frequencyIdx = Math.floor(numBars * percentIdx)\n      bar.scale.z = 1 + 10 * (frequencyData[frequencyIdx] / frequencyData.length)\n    })\n\n    this.stars.children.forEach((child, index) => {\n      const percentIdx = index / this.stars.children.length\n      const frequencyIdx = Math.floor(this.stars.children.length * percentIdx)\n      const scaleMultiplier = 1 + 100 * (frequencyData[frequencyIdx] / frequencyData.length)\n      child.scale.x = scaleMultiplier\n      child.scale.y = scaleMultiplier\n      child.scale.z = scaleMultiplier\n    })\n\n    const elapsedTime = this.clock.getElapsedTime()\n    if(elapsedTime - (this.lastTimeStamp || 0) > 0.2) {\n      const freq = frequencyData[0] / 3000\n      this.lastBass = (this.freqMap[freq] || 1) * freq\n      this.freqMap[freq] = (this.freqMap[freq] || 1) * -1  \n      this.lastTimeStamp = elapsedTime\n    }\n    this.instanceMesh.rotation.y += (this.lastBass || 0.002)\n  }\n  \n  addStars = (scene) => {\n    const textureLoader = new THREE.TextureLoader()\n    const particleTexture = textureLoader.load(spark);\n  \n    for (var i = 0; i < 200; i++) {\n      const material = new THREE.SpriteMaterial({ \n        map: particleTexture,\n        color: 0xffffff,\n        blending: THREE.AdditiveBlending\n      });\n      const sprite = new THREE.Sprite(material);\n\n      sprite.scale.set(32, 32, 32)\n      sprite.position.set(Math.random() - 0.5, Math.random() - 0.5, Math.random() - 0.5).normalize();\n      sprite.position.multiplyScalar(90 + (Math.random() * 100));\n      sprite.material.color.set(new THREE.Color(getRandomValueFromArray(COLOR_PALETTE)))\n      this.stars.add(sprite)\n    }\n\n    scene.add(this.stars)\n  }\n\n  spitBars = () => {\n    this.bars = [];\n    const height = randomNumberInRange(10, 15)\n    const size = 5\n    const geometry = new THREE.BoxBufferGeometry(size, size, height);\n    for(var i = 0; i < 100; i++) {\n      const color = getRandomValueFromArray(COLOR_PALETTE)\n      const material = new THREE.MeshPhongMaterial({\n        color: color,\n        emissive: color,\n        emissiveIntensity: 50,\n        shininess: 200,\n        transparent: true,\n        opacity: 0.7\n      })\n      const row = i % 10\n      const column = i / 10\n      const spacing = 2\n      const offset = (10 * (size + spacing)) / 2\n      \n      const mesh = new THREE.Mesh(geometry, material)\n      mesh.position.x = (row * (size + spacing)) - offset\n      mesh.position.y = (column * (size + spacing)) - offset\n      mesh.position.z = -50\n      mesh.castShadow = true\n      this.bars.push(mesh);\n      this.scene.add(mesh)\n    }\n  }\n  \n  addLights = (scene) => {\n    const light = new THREE.DirectionalLight(0xffffff);\n    light.intensity = 50\n    light.position.set(0, -30, 10);\n    light.lookAt(scene.position)\n    \n    const pointLight = new THREE.PointLight(0xffffff)\n    pointLight.intensity = 50\n    pointLight.position.set(scene.position)\n    scene.add(light);\n    // scene.add(pointLight)\n  }\n  \n  addEffects = (scene, camera, renderer) => {\n    const params = {\n      exposure: 0.9,\n      strength: 1,\n      threshold: 0,\n      radius: 0\n    };\n    \n    const renderPass = new RenderPass(scene, camera);\n    \n    const bloomPass = new UnrealBloomPass( new THREE.Vector2( this.W, this.H ), 1.5, 0.4, 0.85 );\n    Object.assign(bloomPass, params)\n\n    this.GlitchPass = new GlitchPass()\n    \n    this.effectsComposer = new EffectComposer(renderer);\n    this.effectsComposer.addPass(renderPass);\n    this.effectsComposer.addPass(bloomPass);\n    this.effectsComposer.addPass(this.GlitchPass)\n    renderer.toneMappingExposure = Math.pow( params.exposure, 4.0 );\n  }\n\n  setupAudio = (scene, camera) => {\n    this.audioPlayer = new AudioPlayer({\n      camera: camera,\n      song: this.props.song,\n      onPlay: this.start,\n      onPause: this.stop,\n      frequencyCount: 512\n    })\n    this.mount.appendChild(this.audioPlayer.button);\n\n    this.addInstanceGeometry(scene, this.audioPlayer.props.frequencyCount);\n  }\n\n  addInstanceGeometry = (scene, particleCount) => {\n    const _geometry = new THREE.BoxBufferGeometry(2, 2, 2);\n    \n    const geometry = new THREE.InstancedBufferGeometry();\n    geometry.index = _geometry.index;\n    geometry.attributes = _geometry.attributes;\n        \n    var translateArray = []\n    var colors = []\n    \n    for(let i = 0; i < particleCount; i++) {\n      // const percentIdx = (i / (particleCount / 2)) - 1;\n      translateArray.push(Math.random() * 2 - 1, Math.random() * 2 - 1, Math.random() * 2 - 1);\n      // translateArray.push(percentIdx, 0, percentIdx);\n      colors.push(Math.random(), Math.random(), Math.random(), Math.random());\n      // colors.push(1, 1, 1, 1);\n    }\n    \n    geometry.setAttribute('translate', new THREE.InstancedBufferAttribute(new Float32Array(translateArray), 3));\n    geometry.setAttribute('color', new THREE.InstancedBufferAttribute(new Float32Array(colors), 4));\n    \n    const material = new THREE.RawShaderMaterial({\n      uniforms: UNIFORMS,\n      vertexShader: instanceVertexShader,\n      fragmentShader: instanceFragmentShader,\n      // wireframe: true,\n      depthTest: true,\n      depthWrite: true\n    });\n    \n    this.instanceMesh = new THREE.Mesh(geometry, material);\n    this.instanceMesh.position.z = -900\n    this.instanceMesh.scale.set(300, 300, 300);\n    scene.add(this.instanceMesh);\n  }\n\n  onResize = () => {\n    this.W = window.innerWidth\n    this.H = window.innerHeight\n\n    this.camera.aspect = this.W / this.H\n\n    this.camera.updateProjectionMatrix()\n    this.renderer.setSize(this.W, this.H)\n    this.effectsComposer.setSize(this.W, this.H)\n  }\n\n  onkeyup = (event) => {\n    if(!this.frameId) return\n    if(keyCodeMap[event.keyCode] === \"e\") this.shouldRenderEffects = !this.shouldRenderEffects\n  }\n\n  render() {\n    return <div ref={ref => (this.mount = ref)} />\n  }\n}\n  \nexport default Visualizer;","import { gsap, TimelineLite } from 'gsap/all';\n\nfunction Animation(element) {\n    const animation = new TimelineLite({onComplete: () => {\n        animation.pause();\n        animation.progress(0);\n        element.style = \"\";\n    }});\n    return animation;\n}\n\nexport function isAnimating(element) {\n    return gsap.isTweening(element)\n}\n\nexport function slideFromRight(props) {\n    const {element, whenOffScreen} = props\n    Animation(element)\n        .to(element, 0.3, {x: -2000, opacity: 0})\n        .to(element, 0, {x: 2000, onComplete: whenOffScreen})\n        .to(element, 0.4, {x: 0, opacity: 1, ease: \"elastic.out(.75, 1)\"})\n        .play();\n}","import React from 'react';\nimport ReactDom from 'react-dom';\nimport { keyCodeMap } from '../util';\nimport * as Animations from \"../Animations/Animations\"\nimport './navbar.css';\n\nclass Navbar extends React.Component {\n    bodyRef = React.createRef()\n    state = {selectedIndex: 0}\n\n    render() {\n        this.children = React.Children.map(this.props.children, (child, index) => {\n            if(!React.isValidElement(child)) return child\n            return React.cloneElement(child, {\n                selected: this.state.selectedIndex === index,\n                onClick: () => this.select(index)\n            })\n        })\n        return (\n            <>\n            <div className=\"navbar\">{this.children}</div>\n            <div ref={this.bodyRef} id=\"navBody\"></div>\n            </>\n        );\n    }\n\n    componentDidMount() {\n        this.select(this.state.selectedIndex)\n        window.addEventListener(\"keydown\", this.onkeydown)\n    }\n    \n    selectKey = key => typeof key === \"number\" && this.select(key - 1)\n\n    select = (index) => {\n        const wrappedIndex = index < 0 ? index + this.children.length : index % this.children.length\n        if(this.state.selectedIndex === wrappedIndex) return \n        const body = this.bodyRef.current\n        if(Animations.isAnimating(body)) return;\n        const button = this.children[wrappedIndex]\n        if(!button) return;\n\n        this.setState({selectedIndex: wrappedIndex})\n\n        Animations.slideFromRight({\n            element: body, \n            whenOffScreen: () => ReactDom.render(button.props.body, body)\n        })\n    }\n\n    onkeydown = (event) => {\n        const key = keyCodeMap[event.keyCode]\n        switch (key) {\n            case \"←\":\n                this.select(this.state.selectedIndex - 1)\n                break;\n            case \"→\":\n                this.select(this.state.selectedIndex + 1)\n                break;\n            case \"tab\":\n                event.preventDefault()\n                this.select(this.state.selectedIndex + 1)\n                break;\n            default: this.selectKey(key)\n        }\n    }\n}\n\nclass NavButton extends React.Component {\n    render() {\n        return (\n            <span className={`NavButton ${this.props.selected ? 'selected' : ''}`} onClick={this.props.onClick}>\n                {this.props.children}\n            </span>\n        )\n    }\n}\n\nexport {NavButton};\nexport default Navbar;","import React from 'react';\nimport Visualizer from './3DStuff/visualizer';\nimport songUrl from \"./music/disclosureEWM.mp3\";\nimport Navbar, {NavButton} from './navigation/navbar';\nimport './App.css';\nimport './Animations/Animations.css';\n\nclass Iframe extends React.Component {\n  render() {\n    return (\n      <iframe title=\"frame\"\n              src={this.props.src}\n              frameBorder=\"0\" \n              allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" \n              allowFullScreen>\n     </iframe>\n    )\n  }\n}\n\nconst lateJulyUrl = \"https://www.youtube.com/embed/DR6TtBmJ-CE?autoplay=1&mute=1\";\nconst miaUrl = \"https://miamaddenmusic.com\";\n\nconst home = <></>;\nconst page2 = <Iframe src={miaUrl}></Iframe>\nconst page3 = <Iframe src={lateJulyUrl}></Iframe>\nconst page4 = <div className=\"NavBody bgSawtooth\"></div>;\nconst page5 = <Visualizer song={songUrl}></Visualizer>;\n\nfunction App() {\n  return (\n    <div id=\"app\" className=\"App\">\n      <Navbar>\n        <NavButton body={home}> Home </NavButton>\n        <NavButton body={page2}> M I A </NavButton>\n        <NavButton body={page3}> Video </NavButton>\n        <NavButton body={page4}> Trip </NavButton>\n        <NavButton body={page5}> Ballz </NavButton>\n      </Navbar>\n    </div>\n  );\n}\n\nexport default App;\nexport {Iframe};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}